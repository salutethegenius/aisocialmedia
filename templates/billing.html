{% extends "base.html" %}

{% block content %}
<div class="content-item">
    <h2>Billing Information</h2>

    <h3>Project Summary:</h3>
    <p><strong>Total Tokens Used:</strong> {{ total_credits }}</p>
    <p><strong>Total Cost:</strong> ${{ "%.2f"|format(project_cost) }}</p>

    <button id="checkout-button" class="btn"><i class="fas fa-shopping-cart"></i> Proceed to Checkout</button>
    <div id="loading" style="display: none;">Processing...</div>
    <div id="error-message" class="error"></div>
    <a id="fallback-link" href="#" style="display: none;" class="btn"><i class="fas fa-external-link-alt"></i> Click here to complete your payment</a>
</div>

<script src="https://js.stripe.com/v3/"></script>
<script>
    var stripePublishableKey = '{{ STRIPE_PUBLISHABLE_KEY }}';
</script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
